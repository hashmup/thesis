\documentclass[a4j,10pt,onecolumn]{ujarticle} % jsbook, jsreportなど

%% マージン等の設定
%% A4: 210 x 297 mm
%% jsクラスではフォントサイズを10ptから変更するときには長さ単位にtrueをつける必要がある．
%% inch->trueinch, mm->truemm, cm->truecmなど．
\setlength{\textwidth}{15truecm}       %% 150mm + 1inch(25.4mm)*2 + 4.6mm*2 = 210mm
\setlength{\oddsidemargin}{4.6truemm}  %% 左右余白30mm
\setlength{\evensidemargin}{4.6truemm}
\setlength{\textheight}{227truemm} %% 227mm + 1inch*2 + 9.6mm*2 = 297mm
\setlength{\headheight}{9.6truemm} %% 上下余白35mm
\setlength{\topmargin}{9.6truemm}
\setlength{\headsep}{-15truemm}
% 図と図の間のスペース
\setlength\floatsep{2truemm}
% 本文と図の間のスペース
\setlength\textfloatsep{2truemm}
% 本文中の図のスペース
\setlength\intextsep{0truept}
% 図とキャプションの間のスペース
\setlength\abovecaptionskip{2truemm}

\setcounter{secnumdepth}{4}
%% 代わりに以下2行でもOK
%% \usepackage{geometry}
%% \geometry{top=35truemm,bottom=35truemm,left=30truemm,right=30truemm}

%% \renewcommand{\baselinestretch}{0.82}

%% 使いたいパッケージを指定
\usepackage[dvipdfmx]{graphicx, color} % 画像挿入
\usepackage{mediabb} % PDFなどのbounding boxを取得してくれる
\usepackage{amsmath} % 数式用パッケージ
\usepackage{url} % URL挿入用
\usepackage{color} % 文字色指定
\usepackage{bm} % bold math （数式中のベクトルなどで太字にしたいとき）
\usepackage{titlesec}
\usepackage{listings}
\usepackage{verbatim}
\usepackage{framed}
\usepackage{sverb}

% コード読み込みのための設定
\lstset{%
  tabsize=8,
  language={Python},
  basicstyle={\small},%
  identifierstyle={\small},%
  commentstyle={\small\itshape},%
  keywordstyle={\small\bfseries},%
  ndkeywordstyle={\small},%
  stringstyle={\small\ttfamily},
  frame={tb},
  breaklines=true,
  columns=[l]{fullflexible},%
  numbers=left,%
  xrightmargin=0zw,%
  xleftmargin=3zw,%
  numberstyle={\scriptsize},%
  stepnumber=1,
  numbersep=1zw,%
  lineskip=-0.2ex,%
  showstringspaces=false
}

\makeatletter

\def\@thesis{卒業論文}
\def\@professor{神崎亮平}
\def\id#1{\def\@id{#1}}
\def\department#1{\def\@department{#1}}

\renewcommand{\theequation}{%
\thesection.\arabic{equation}}
\@addtoreset{equation}{section}

\def\@maketitle{
\begin{center}
\vspace{15mm}
{\huge \underline{\@thesis} \par}
\vspace{60mm}
{\huge\bf \@title \par}% 論文のタイトル部分
\vspace{50mm}
{\LARGE \underline{平成30年2月5日 提出}\par}	% 提出年月日部分
\vspace{10mm}
{\LARGE \underline{\@department} \par}	% 所属部分
\vspace{5mm}
{\LARGE \underline{学生証番号 \@id \@author} \par}% 氏名
\vspace{10mm}
{\LARGE \underline{指導教員 \@professor 教授}\par} % 指導教員
% {\Large 学籍番号　\@id \par}	% 学籍番号部分
\end{center}
\thispagestyle{empty}
\addtocounter{page}{-1}
\clearpage
}

\def\makebacktitle{
  {\huge 以上}
  \vskip 80mm
  \begin{center}
    \vskip 10mm
    {\huge \@thesis}
    \vskip 10mm
    {\huge \underline{平成30年2月5日 提出} \par}
    \vskip 40mm
    {\huge \underline{学生証番号\@id 井上裕太} \par}
  \end{center}
  \thispagestyle{empty}
  \clearpage
  \addtocounter{page}{-1}
}

\makeatother

\title{\underline{神経回路シミュレーションにおける}\\\underline{イオンチャンネルダイナミクス計算の}\\\underline{最適化コードの自動生成}}
\date{平成30年2月5日}
\department{東京大学工学部機械情報工学科}
\id{03-150268}
\author{井上裕太}

%% --- 以下本文 ---
\begin{document}
\maketitle %% タイトルを表示

% \chapter{チャプター}
% jsarticleには\verb+\chapter+命令がない．

%% 目次作成
\clearpage
\tableofcontents
\clearpage
\listoffigures
\clearpage
\listoftables

% \input{abstract/abstract}
\clearpage
\input{introduction/introduction}
\clearpage
\input{model-env/model-env}
\clearpage
\input{method/method}
\clearpage
\input{experiment/experiment}
\clearpage
\input{conclusion/conclusion}
\clearpage
\medskip
\bibliographystyle{junsrt}
\bibliography{citation/library}
\clearpage
\input{appendix/thanks}
\input{appendix/appendix}

\makebacktitle

\end{document}
